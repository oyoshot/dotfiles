# locale
export LANG=ja_JP.UTF-8
(( ${+UID} && UID == 0 )) && LANG=C

typeset -gU path
path=(
  $HOME/.local/bin(N-/)
  /opt/homebrew/bin(N-/) # macOS/Apple Silicon
  /usr/local/bin(N-/) # macOS/Intel
  /usr/local/sbin(N-/)
  /usr/bin(N-/)
  /usr/sbin(N-/)
  /bin(N-/)
  /sbin(N-/)
  /Library/Apple/usr/bin(N-/)
  $path
)
export PATH

# XDG
export XDG_CONFIG_HOME="$HOME/.config"
export XDG_DATA_HOME="$HOME/.local/share"
export XDG_STATE_HOME="$HOME/.local/state"
export XDG_CACHE_HOME="$HOME/.cache"

# zsh
export ZDOTDIR="$XDG_CONFIG_HOME/zsh"

# Rust
export RUST_BACKTRACE=1
export RUSTUP_HOME="$XDG_DATA_HOME/rustup"
export CARGO_HOME="$XDG_DATA_HOME/cargo"
export CARGO_TARGET_DIR="$XDG_DATA_HOME/cargo/target"

# Deno
export DENO_INSTALL="$XDG_DATA_HOME/deno"
export DENO_INSTALL_ROOT="$DENO_INSTALL"

# Python
export RYE_HOME="$XDG_CONFIG_HOME/rye"
export IPYTHONDIR="$XDG_CONFIG_HOME/jupyter"
export JUPYTER_CONFIG_DIR="$XDG_CONFIG_HOME/jupyter"

# Rubygems
export GEM_HOME="$XDG_DATA_HOME/gem"
export GEM_SPEC_CACHE="$XDG_CACHE_HOME/gem"

export BUNDLE_USER_HOME="$XDG_CONFIG_HOME/bundle"
export BUNDLE_USER_CACHE="$XDG_CACHE_HOME/bundle"
export BUNDLE_USER_PLUGIN="$XDG_DATA_HOME/bundle/plugin"

# sheldon
export SHELDON_CONFIG_DIR="$ZDOTDIR"

# gh-red
export GHRED_CONFIG_HOME="$XDG_CONFIG_HOME/gh-red"
export GHRED_DATA_HOME="$XDG_DATA_HOME/gh-red"

# Docker
export DOCKER_CONFIG="$XDG_CONFIG_HOME/docker"

# Helm
export HELM_CACHE_HOME="$XDG_CACHE_HOME/helm"
export HELM_CONFIG_HOME="$XDG_CONFIG_HOME/helm"
export HELM_DATA_HOME="$XDG_DATA_HOME/helm"

# Keras
export KERAS_HOME="$XDG_CONFIG_HOME/keras"

# Node.js
export NODE_REPL_HISTORY="$XDG_STATE_HOME/node_history"

# npm
export NPM_CONFIG_DIR="$XDG_CONFIG_HOME/npm"
export NPM_DATA_DIR="$XDG_DATA_HOME/npm"
export NPM_CACHE_DIR="$XDG_CACHE_HOME/npm"
export NPM_CONFIG_USERCONFIG="$NPM_CONFIG_DIR/npmrc"

path=(
  $XDG_DATA_HOME/mise/shims(N-/)
  $CARGO_HOME/bin(N-/)
  $DENO_INSTALL/bin(N-/)
  $GEM_HOME/bin(N-/)
  $GHRED_DATA_HOME/bin(N-/)
  $path
)
export PATH

if command -v nvim >/dev/null 2>&1; then
  EDITOR=nvim
else
  EDITOR=vim
fi
VISUAL="$EDITOR"
export EDITOR VISUAL
